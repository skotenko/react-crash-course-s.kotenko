{"version":3,"sources":["logo.svg","components/ErrorIndicator/death-star.png","components/PlanetItem/PlanetItem.js","components/ErrorIndicator/ErrorIndicator.js","components/Spinner/Spinner.js","components/PlanetList/PlanetList.js","App.js","index.js"],"names":["module","exports","PlanetItem","props","name","uuid","key","ErrorIndicator","className","src","icon","alt","Spinner","PlanetList","baseURL","_source","state","isLoading","isError","isCancel","planets","onCancelHandler","setState","cancel","setTimeout","onSendHandler","fetchPlanets","axios","CancelToken","source","get","cancelToken","token","then","res","data","results","catch","error","console","info","message","response","request","this","text","disabled","errorMessage","spinner","onClick","map","item","uuidv1","React","Component","App","logo","ReactDOM","render","document","getElementById"],"mappings":"0FAAAA,EAAOC,QAAU,IAA0B,kC,iBCA3CD,EAAOC,QAAU,k+D,8TCUFC,MARf,SAAoBC,GAAQ,IACnBC,EAAcD,EAAdC,KAAMC,EAAQF,EAARE,KAEb,OACE,wBAAIC,IAAKD,GAAOD,I,yBCQLG,MAVf,WAEE,OACE,yBAAKC,UAAU,kBACb,yBAAKC,IAAKC,IAAMC,IAAI,KACpB,qECMSC,G,MAXC,WACd,OACE,yBAAKJ,UAAU,WACb,yBAAKA,UAAU,mBACb,8BACA,kCC+HOK,G,iNA9HbC,QAAU,wB,EAOVC,QAAU,K,EAEVC,MAAQ,CACNC,WAAW,EACXC,SAAS,EACTC,UAAU,EACVC,QAAS,I,EAGXC,gBAAkB,WACZ,EAAKL,MAAMC,YACb,EAAKK,SAAS,CACZL,WAAW,EACXE,UAAU,EACVD,SAAS,IAIX,EAAKH,QAAQQ,SAEbC,YAAW,WACT,EAAKF,SAAS,CACZL,WAAW,EACXE,UAAU,EACVD,SAAS,MAEV,O,EAIPO,cAAgB,WACT,EAAKT,MAAMC,YACd,EAAKK,SAAS,CACZL,WAAW,EACXC,SAAS,EACTC,UAAU,EACVC,QAAS,KAGX,EAAKM,iB,EAITA,aAAe,WACb,EAAKX,QAAUY,IAAMC,YAAYC,SAEjCF,IAAMG,IAAN,UAAa,EAAKhB,QAAlB,YAAqC,CAACiB,YAAa,EAAKhB,QAAQiB,QAC7DC,MAAK,SAAAC,GACJ,IAAMd,EAAUc,EAAIC,KAAKC,QACzB,EAAKd,SAAS,CACZL,WAAW,EACXC,SAAS,EACTE,QAASA,OAGZiB,OAAM,SAAAC,GAEDX,IAAMR,SAASmB,GACjBC,QAAQC,KAAK,mBAAoBF,EAAMG,UAGvC,EAAKnB,SAAS,CACZJ,SAAS,EACTD,WAAW,EACXE,UAAU,EACVC,QAAS,KAGPkB,EAAMI,SACRH,QAAQD,MAAMA,EAAMI,SAASP,MACpBG,EAAMK,QACfJ,QAAQD,MAAMA,EAAMK,SAEpBJ,QAAQD,MAAM,QAASA,EAAMG,c,wEAM7B,IAAD,EACyCG,KAAK5B,MAA9CI,EADA,EACAA,QAASH,EADT,EACSA,UAAWC,EADpB,EACoBA,QAASC,EAD7B,EAC6BA,SAChC0B,EAAO,cACPC,GAAW,EAEX7B,GACF4B,EAAO,UACPC,GAAW,GACF3B,EACT0B,EAAO,sBACE3B,IACT2B,EAAO,oBAGT,IAAME,EAAe7B,EAAU,kBAAC,EAAD,MAAoB,KAC7C8B,EAAU/B,EAAY,kBAAC,EAAD,MAAa,KAEzC,OACE,yBAAKT,UAAU,cACb,yBAAKA,UAAU,uBACb,4BAAQyC,QAASL,KAAKnB,cAAeqB,SAAUA,EAAUtC,UAAU,mBAAmBqC,GACtF,4BAAQI,QAASL,KAAKvB,gBAAiBb,UAAU,mBAAjD,mBAEF,sDACCuC,EACAC,EACD,wBAAIxC,UAAU,oBAEVY,EAAQ8B,KAAI,SAAAC,GACV,IAAM9C,EAAO+C,MACb,OAAO,kBAAC,EAAD,CAAY9C,IAAKD,EAAMD,KAAM+C,EAAK/C,gB,GAtH9BiD,IAAMC,YCYhBC,E,iLAbX,OACE,yBAAK/C,UAAU,OACb,4BAAQA,UAAU,cAChB,yBAAKC,IAAK+C,IAAMhD,UAAU,WAAWG,IAAI,UAE3C,0BAAMH,UAAU,YACd,kBAAC,EAAD,Y,GARQ6C,IAAMC,WCAxBG,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.0d0101f4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import React from 'react';\n\nfunction PlanetItem(props) {\n  const {name, uuid} = props;\n\n  return (\n    <li key={uuid}>{name}</li>\n  );\n}\n\nexport default PlanetItem;\n","import React from 'react';\nimport './ErrorIndicator.css';\nimport icon from './death-star.png';\n\nfunction ErrorIndicator() {\n\n  return (\n    <div className=\"ErrorIndicator\">\n      <img src={icon} alt=\"\"/>\n      <span>something has gone terribly wrong</span>\n    </div>\n  );\n}\n\nexport default ErrorIndicator;\n","import React from 'react';\n\nimport './Spinner.css';\n\nconst Spinner = () => {\n  return (\n    <div className=\"lds-css\">\n      <div className=\"lds-double-ring\">\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","import React from 'react';\nimport axios from 'axios';\nimport uuidv1 from 'uuid/v1';\nimport PlanetItem from \"../PlanetItem/PlanetItem\";\nimport ErrorIndicator from \"../ErrorIndicator/ErrorIndicator\";\nimport Spinner from \"../Spinner/Spinner\";\nimport './PlanetList.css';\n\nclass PlanetList extends React.Component {\n\n  baseURL = 'https://swapi.co/api/';\n\n  /**\n   * Cancel token\n   * @type {null}\n   * @private\n   */\n  _source = null;\n\n  state = {\n    isLoading: false,\n    isError: false,\n    isCancel: false,\n    planets: [],\n  };\n\n  onCancelHandler = () => {\n    if (this.state.isLoading) {\n      this.setState({\n        isLoading: false,\n        isCancel: true,\n        isError: false,\n      });\n\n      // Cancel request\n      this._source.cancel();\n\n      setTimeout(() => {\n        this.setState({\n          isLoading: false,\n          isCancel: false,\n          isError: false,\n        });\n      }, 2000);\n    }\n  };\n\n  onSendHandler = () => {\n    if (!this.state.isLoading) {\n      this.setState({\n        isLoading: true,\n        isError: false,\n        isCancel: false,\n        planets: [],\n      });\n\n      this.fetchPlanets();\n    }\n  };\n\n  fetchPlanets = () => {\n    this._source = axios.CancelToken.source();\n\n    axios.get(`${this.baseURL}planets/`, {cancelToken: this._source.token})\n      .then(res => {\n        const planets = res.data.results;\n        this.setState({\n          isLoading: false,\n          isError: false,\n          planets: planets,\n        });\n      })\n      .catch(error => {\n\n        if (axios.isCancel(error)) {\n          console.info('Request canceled', error.message);\n        } else {\n          // handle error\n          this.setState({\n            isError: true,\n            isLoading: false,\n            isCancel: false,\n            planets: [],\n          });\n\n          if (error.response) {\n            console.error(error.response.data);\n          } else if (error.request) {\n            console.error(error.request);\n          } else {\n            console.error('Error', error.message);\n          }\n        }\n      });\n  };\n\n  render() {\n    const {planets, isLoading, isError, isCancel} = this.state;\n    let text = \"Get planets\";\n    let disabled = false;\n\n    if (isLoading) {\n      text = \"Loading\";\n      disabled = true;\n    } else if (isCancel) {\n      text = \"Canceled. Get again\";\n    } else if (isError) {\n      text = \"Error. Try again\";\n    }\n\n    const errorMessage = isError ? <ErrorIndicator/> : null;\n    const spinner = isLoading ? <Spinner/> : null;\n\n    return (\n      <div className=\"PlanetList\">\n        <div className=\"PlanetList__actions\">\n          <button onClick={this.onSendHandler} disabled={disabled} className=\"PlanetList__btn\">{text}</button>\n          <button onClick={this.onCancelHandler} className=\"PlanetList__btn\">Cancel Request</button>\n        </div>\n        <h2>The Star Wars Planets:</h2>\n        {errorMessage}\n        {spinner}\n        <ol className=\"PlanetList__list\">\n          {\n            planets.map(item => {\n              const uuid = uuidv1();\n              return <PlanetItem key={uuid} name={item.name}/>;\n            })\n          }\n        </ol>\n\n      </div>\n    );\n  };\n}\n\nexport default PlanetList;\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport PlanetList from \"./components/PlanetList/PlanetList\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img src={logo} className=\"App-logo\" alt=\"logo\"/>\n        </header>\n        <main className=\"App-main\">\n          <PlanetList/>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}